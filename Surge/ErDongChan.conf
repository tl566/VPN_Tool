# 2023.8.23

[General]
# ------------é€šç”¨è®¾ç½®-------------------
# å¢å¼ºç‰ˆWi-FiåŠ©ç†(åœ¨ Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿æ¥ï¼Œè¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡æ—¶å¼€å¯)
wifi-assist = false
# æ··åˆç½‘ç»œ
all-hybrid = false
# æ¸¸æˆä¼˜åŒ– å¼€å¯åå°†åœ¨ç³»ç»Ÿè´Ÿè½½éå¸¸é«˜ï¼Œæ•°æ®åŒ…å¤„ç†å‡ºç°å»¶è¿Ÿæ—¶ï¼Œä¼˜å…ˆå¤„ç† UDP æ•°æ®åŒ…
udp-priority = false
# Internetæµ‹è¯•URL
internet-test-url = http://www.baidu.com
# ä»£ç†æµ‹é€ŸURL
proxy-test-url = http://cp.cloudflare.com/generate_204
# æµ‹è¯•è¶…æ—¶(ç§’)
test-timeout = 5
# è‡ªå®šä¹‰GeoIPæ•°æ®åº“
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = false
# å…è®¸ IPv6 é€šè¿‡ Surge VIF,å½“å¸Œæœ› Surge å¤„ç†è¿æ¥åˆ° IPv6 åœ°å€çš„åŸå§‹ TCP è¿æ¥æ—¶éå¸¸æœ‰ç”¨
ipv6-vif = auto
# -------------------------------------

# --------------DNS---------------â€”
# DNSæœåŠ¡å™¨
dns-server = 119.29.29.29,114.114.114.114,223.5.5.5
# åŠ å¯† DNS æœåŠ¡å™¨è®¾ç½®
# encrypted-dns-server = https://doh.pub/dns-query
# å…³é—­ DOH çš„æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
# doh-skip-cert-verification=true
# ä½¿åŠ å¯† DNS è¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
# encrypted-dns-follow-outbound-mode = false
# ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# ------------------------------------

# ------------Wi-Fiè®¿é—®-----------------
# Surgeå¯ä»¥ä½œä¸ºä¸€ä¸ªæ ‡å‡†çš„ HTTP/SOCKS5 ä»£ç†æœåŠ¡å™¨å‘ wi-Fi ç½‘ç»œä¸‹çš„å…¶ä»–è®¾å¤‡æä¾›æœåŠ¡å™¨(ä»…iOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°† false æ”¹ä¸º true )
allow-wifi-access = false
# å…è®¸ä¸ªäººçƒ­ç‚¹å…±äº«
allow-hotspot-access = false
# Surge iOS - é»˜è®¤ HTTP ç«¯å£å·ï¼š6152ï¼ŒSOCKS5 ç«¯å£å·ï¼š6153
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# ------------------------------------

# ------------â€”å…¼å®¹æ€§----------------
# å…¼å®¹æ¨¡å¼ (ä»…iOS)
compatibility-mode = 0
# è·³è¿‡ä»£ç†
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,127.0.0.1,100.64.0.0/10,localhost,*.local,e.crashlynatics.com,www.baidu.com,yunbusiness.ccb.com,passenger.t3go.cn,passenger.t3go.cn,captive.apple.com,wxh.wo.cn,gate.lagou.com,www.abchina.com.cn,login-service.mobile-bank.psbc.com,mobile-bank.psbc.com
# æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# ------------------------------------

# ------------è·¯ç”±----------------
# åŒ…å«æ‰€æœ‰ç½‘ç»œè¯·æ±‚
include-all-networks = false
# åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
include-local-networks = false
# ------------------------------------

#-------------å®éªŒæ€§åŠŸèƒ½------------
# Network framwork
network-framework = false
# ------------------------------------

# ------------é«˜çº§è®¾ç½®------------
# æ—¥å¿—çº§åˆ«
loglevel = notify
# å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# Always Real IP Hosts
always-real-ip = *.iCloud.com, *.apple.com, *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com, msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net
# åŠ«æŒDNS
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# TCP Force HTTP Hosts
# force-http-engine-hosts = 
# VIF Excluded Routes
# tun-excluded-routes = 239.255.255.250/32
# VIF Included Routes
# tun-included-routes = 192.168.1.12/32
# å¦‚æœæ²¡æœ‰ä»£ç†æœåŠ¡å™¨æ”¯æŒ UDP è½¬å‘ï¼Œå¯ä¿®æ”¹ä¸ºã€Œ direct ã€æˆ–æ³¨é‡Šä¸‹æ¡ï¼Œä½†éœ€æ³¨æ„åŒä¸€ç›®æ ‡ä¸»æœºå TCP è¯·æ±‚ä¸ UDP è¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£é™©
udp-policy-not-supported-behaviour = reject
# ------------------------------------


[Replica]
# æŠ“å–ï¼ˆ1 ä¸ºå¼€å¯ï¼Œ0 ä¸ºå…³é—­ï¼‰
# éšè— Apple è¯·æ±‚
hide-apple-request = 0
# éšè—å´©æºƒè¿½è¸ªå™¨è¯·æ±‚
hide-crash-reporter-request = 1
# éšè— UDP ä¼šè¯
hide-udp = 0
# å…³é”®è¯è¿‡æ»¤å™¨
# none å…³é—­å…³é”®è¯è¿‡æ»¤å™¨
# whitelist ä»…è®°å½•åŒ…å«å…³é”®å­—çš„è¯·æ±‚
# blacklist ä»…è®°å½•ä¸åŒ…å«å…³é”®å­—çš„è¯·æ±‚
# pattern åŒ¹é…é€šé…ç¬¦çš„è¯·æ±‚
keyword-filter-type = none
# å…³é”®è¯
keyword-filter = (null)



[Proxy]
# æœ¬åœ°ä»£ç†ç­–ç•¥


[Proxy Group]
# ç­–ç•¥ç»„
Proxy = select, policy-path=æœºåœºè®¢é˜…é“¾æ¥, update-interval=0, no-alert=0, hidden=0, include-all-proxies=1
é¦™æ¸¯èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK|Hong))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|æ¶ˆè€—)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy
ç¾å›½èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|æ¶ˆè€—)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy
æ—¥æœ¬èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|JP|Japan))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|æ¶ˆè€—)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy
å°æ¹¾èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|TW|Tai))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|æ¶ˆè€—)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy
æ–°åŠ å¡èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|SG|Singapore))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|æ¶ˆè€—)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy
ä¿„ç½—æ–¯èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡·ğŸ‡º|ä¿„ç½—æ–¯|RUS|Russia))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|æ¶ˆè€—)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy
åœŸè€³å…¶èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¹ğŸ‡·|åœŸè€³å…¶|TUR|Turkey))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|æ¶ˆè€—)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy
é˜¿æ ¹å»·èŠ‚ç‚¹ = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¦ğŸ‡·|é˜¿æ ¹å»·|AR|Argentinaia))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|æ¶ˆè€—)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy
ç½‘æ˜“äº‘éŸ³ä¹èŠ‚ç‚¹ = select, policy-path=https://gist.githubusercontent.com/As-Lucky/93af45f81dcbd70d7079d3fc327706e0/raw/wyy, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0

# è‡ªå®šä¹‰ç­–ç•¥
NetEaseMusic = select, DIRECT, ç½‘æ˜“äº‘éŸ³ä¹èŠ‚ç‚¹
å“”å“©å“”å“© = select, DIRECT, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
TikTok = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
YouTube = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
Twitter = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
Telegram = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
PayPal = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹
Google = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
Microsoft = select, DIRECT, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
Apple = select, DIRECT, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
Game = select, DIRECT, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, åœŸè€³å…¶èŠ‚ç‚¹, é˜¿æ ¹å»·èŠ‚ç‚¹
Global = select, é¦™æ¸¯èŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, æ–°åŠ å¡èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹
Mainland = select, DIRECT, Proxy
Final = select, DIRECT, Proxy



[Rule]
# åˆ†æµè§„åˆ™
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Lan/Lan.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Direct/Direct.list,DIRECT
DOMAIN-SET,https://anti-ad.net/surge2.txt,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hijacking/Hijacking.list,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy.list,REJECT
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy_Domain.list,REJECT
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Apple/BlockiOSUpdate.list,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,æ—¥æœ¬èŠ‚ç‚¹
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,TikTok
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,Twitter
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,Telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list,PayPal
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,å“”å“©å“”å“©
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/NetEaseMusic/NetEaseMusic.list,NetEaseMusic
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Game/Game.list,Game
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,Microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,Apple
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_Domain.list,Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China.list,Mainland
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China_Domain.list,Mainland
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaIPs/ChinaIPs.list,Mainland
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global.list,Global
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Domain.list,Global

# Surge çš„è‡ªåŠ¨ REJECT ä¿æŠ¤ä¸¢åŒ…ï¼Œé˜²æ­¢åº”ç”¨å¾ªç¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# Local Area Network å±€åŸŸç½‘
RULE-SET,LAN,DIRECT
# åŸºäº GeoIP æ•°æ®åº“åˆ¤æ–­åŸŸåå’Œ IP çš„å½’å±åœ°
GEOIP,CN,DIRECT
# DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,Final,dns-failed



[Host]
# åˆ¶å®šåŸŸåè§£ædns
*.taobao.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.alipay*.com = server:223.5.5.5
*.qq.com = server:119.29.29.29
*.tencent.com = server:119.29.29.29
*.weixin.com = server:119.29.29.29
*.netease.com = server:119.29.29.29
mtalk.google.com = 108.177.125.188
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29



[MITM]
# è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
skip-server-cert-verify = true
# å¼€å¯TCPè¿æ¥
tcp-connection = true
# MITM ä½¿ç”¨ HTTP/2 åè®®
h2 = true




